"use strict";(self.webpackChunk_playcanvas_blog=self.webpackChunk_playcanvas_blog||[]).push([[1922],{2355:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>h});var n=a(74848),i=a(28453);const o={authors:"dave",slug:"runtime-lightmap-generation-for-webgl",title:"Runtime Lightmap Generation for WebGL",tags:["editor","graphics"]},r=void 0,s={permalink:"/runtime-lightmap-generation-for-webgl",editUrl:"https://github.com/playcanvas/blog/tree/main/blog/2016-04-14-runtime-lightmap-generation-for-webgl.md",source:"@site/blog/2016-04-14-runtime-lightmap-generation-for-webgl.md",title:"Runtime Lightmap Generation for WebGL",description:"For many years, lightmapping has been the mainstay of\xa0achieving low cost yet realistic\xa0lighting. However, it's\xa0rarely seen in\xa0WebGL applications because generating lightmaps requires third-party modelling applications with complex workflows in order to bake\xa0out textures.",date:"2016-04-14T00:00:00.000Z",tags:[{inline:!0,label:"editor",permalink:"/tags/editor"},{inline:!0,label:"graphics",permalink:"/tags/graphics"}],readingTime:2.48,hasTruncateMarker:!1,authors:[{name:"Dave Evans",title:"CTO",url:"https://twitter.com/daredevildave",imageURL:"https://pbs.twimg.com/profile_images/1271233580430053376/-OHHBJ2Z_400x400.jpg",key:"dave",page:null}],frontMatter:{authors:"dave",slug:"runtime-lightmap-generation-for-webgl",title:"Runtime Lightmap Generation for WebGL",tags:["editor","graphics"]},unlisted:!1,prevItem:{title:"New Tutorials: Multiplayer with Node.js and WebGL & Facebook SDK",permalink:"/new-tutorials-multiplayer-with-nodejs-and-webgl-facebook-sdk"},nextItem:{title:"Easy Cardboard VR in WebGL",permalink:"/easy-cardboard-vr-in-webgl"}},l={authorsImageUrls:[void 0]},h=[{value:"How does it work?",id:"how-does-it-work",level:2},{value:"What&#39;s good about it?",id:"whats-good-about-it",level:2},{value:"Performance",id:"performance",level:3},{value:"Ease-of-use",id:"ease-of-use",level:3},{value:"Features, Features, Features",id:"features-features-features",level:3},{value:"What&#39;s next?",id:"whats-next",level:2}];function d(e){const t={a:"a",em:"em",h2:"h2",h3:"h3",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"For many years, lightmapping has been the mainstay of\xa0achieving low cost yet realistic\xa0lighting. However, it's\xa0rarely seen in\xa0WebGL applications because generating lightmaps requires third-party modelling applications with complex workflows in order to bake\xa0out textures."}),"\n",(0,n.jsxs)(t.p,{children:["All that changes today as we introduce ",(0,n.jsx)(t.strong,{children:"Runtime Lightmap Generation"})," into the PlayCanvas Engine."]}),"\n",(0,n.jsx)("div",{className:"iframe-container",children:(0,n.jsx)("iframe",{loading:"lazy",src:"https://playcanv.as/p/txPePQvy/",title:"360 lookaround camera",webkitallowfullscreen:"true",mozallowfullscreen:"true",allow:"autoplay",allowfullscreen:"true",allowvr:"",scrolling:"no",frameborder:"0"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsxs)(t.em,{children:["Here's a link to\xa0",(0,n.jsx)(t.a,{href:"https://playcanv.as/p/txPePQvy",children:"full demo"}),"."]})}),"\n",(0,n.jsx)(t.p,{children:"The demo above shows the engine's lightmap generation in action and this functionality is now available to all users via the PlayCanvas Editor."}),"\n",(0,n.jsx)(t.h2,{id:"how-does-it-work",children:"How does it work?"}),"\n",(0,n.jsx)(t.p,{children:"For the uninitiated, lightmaps are extra textures that contain pre-computed lighting information that are applied to models at runtime. This means that instead of expensive per-pixel lighting, you can pre-compute static lighting that is incredibly cheap to render on the GPU."}),"\n",(0,n.jsxs)(t.p,{children:["We've also specially designed our lightmapping solution for the needs of the web. In the Sponza scene above, there are 5 lights which generate 65 lightmaps applied to the 240,000 triangle mesh that makes up the scene. In total, this generates over 60MB of HDR\xa0lightmap textures. Even with an excellent compression ratio, it would be very time consuming to download this texture data. So we've designed the PlayCanvas lightmapper to be unique among both native and WebGL engines. ",(0,n.jsx)(t.strong,{children:"The PlayCanvas Engine generates all lightmaps on application start."})," In a few hundred milliseconds, we generate all the textures required for static lighting so your scene runs super-smoothly across all devices."]}),"\n",(0,n.jsx)(t.h2,{id:"whats-good-about-it",children:"What's good about it?"}),"\n",(0,n.jsx)(t.h3,{id:"performance",children:"Performance"}),"\n",(0,n.jsx)(t.p,{children:"Just see for yourself. Switch between the lightmapped and dynamic lighting modes\xa0in the Sponza demo above. On a MacBook Pro or a recent mobile device like a Nexus 5 or iPhone 6, the lightmapped scene runs at 60fps. Using the real-time dynamic lighting we have to sample 5 filtered shadow maps (one for each light) which seriously affects performance."}),"\n",(0,n.jsx)(t.p,{children:"With this new feature, we're enabling WebGL developers to create beautifully lit 3D scenes\xa0that run in all browsers from low end mobile\xa0to high end desktop. Not only will your application run smoothly on mobile, it will also load incredibly fast."}),"\n",(0,n.jsx)(t.h3,{id:"ease-of-use",children:"Ease-of-use"}),"\n",(0,n.jsxs)(t.p,{children:["The lightmapping tools are built directly into the Editor. To\xa0get started, you just need to flick a couple of check boxes on your light and model components and hit the Bake button. Find out more by reading the new\xa0",(0,n.jsx)(t.a,{href:"https://developer.playcanvas.com/user-manual/graphics/lighting/runtime-lightmaps/",children:"documentation"}),"."]}),"\n",(0,n.jsx)(t.h3,{id:"features-features-features",children:"Features, Features, Features"}),"\n",(0,n.jsx)(t.p,{children:"Of course, there are also all the bells and whistles that make the lightmapper a dream to use. We generate HDR\xa0lightmaps so everything looks great. You can mix and match your static and dynamic lighting to\xa0give you the best of both worlds. We even auto-magically UV-unwrap your models if you haven't already generated\xa0lightmap UVs."}),"\n",(0,n.jsx)(t.h2,{id:"whats-next",children:"What's next?"}),"\n",(0,n.jsx)(t.p,{children:"This is just the first step for the PlayCanvas\xa0Lightmapper. We'll soon be adding support for Specular Reflectance to the lightmapper.\xa0And beyond that:\xa0Global Illumination."}),"\n",(0,n.jsx)(t.p,{children:"But don't wait, runtime lightmap generation is available to all users right now. Go try it out today!"})]})}function c(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},28453:(e,t,a)=>{a.d(t,{R:()=>r,x:()=>s});var n=a(96540);const i={},o=n.createContext(i);function r(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);